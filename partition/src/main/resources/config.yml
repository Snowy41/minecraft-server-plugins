# Partition Plugin Configuration
# Version: 1.0.0
#
# This plugin splits your server into multiple isolated "mini-servers"
# Each partition can have its own worlds and plugins, running independently.

# ===== ISOLATION SETTINGS =====
# Controls how players in different partitions interact
isolation:
  # Should players only see chat from their partition?
  chat: true

  # Should tab list only show players in the same partition?
  tablist: true

  # Should commands be partition-specific? (Experimental)
  commands: false

  # Should world borders be enforced per-partition?
  world-border: true

# ===== PARTITIONS =====
# Define your server partitions here

partitions:
  # ===== BUILD SERVER =====
  # Main build world with all necessary plugins
  build:
    name: "Build Server"
    description: "Main building environment with all tools"
    enabled: true

    # Worlds assigned to this partition
    worlds:
      - "world"           # Main build world (Minecraft overworld)
      - "world_nether"    # Nether for build server
      - "world_the_end"   # End for build server

    # Plugins active in this partition
    # Based on your screenshot - EXACT plugin names from /plugins command
    plugins:
      - "CorePlugin"                    # Core infrastructure (always needed)
      - "LobbyPlugin"                   # Lobby system
      - "PartitionPlugin"               # This plugin itself
      - "FastAsyncWorldEdit"            # World editing plugin

    # Spawn location for this partition
    spawn-world: "world"
    spawn-location:
      x: -174.5   # Center of your lobby spawn region
      y: -45.0
      z: -13.5
      yaw: 0.0
      pitch: 0.0

    # Auto-load on server start?
    auto-load: true

    # Persist data when partition restarts?
    persistent: true

  # ===== DEV SERVER =====
  # Testing environment with minimal plugins
  dev:
    name: "Development Server"
    description: "Testing environment for new features"
    enabled: true

    # Dev server worlds (you'll need to create these)
    worlds:
      - "dev_world"
      - "dev_world_nether"
      - "dev_world_the_end"

    # Minimal plugin set for dev testing
    plugins:
      - "CorePlugin"       # Core infrastructure
      - "LobbyPlugin"      # Lobby system
      - "PartitionPlugin"  # This plugin itself

    # Spawn location (adjust as needed when you create dev_world)
    spawn-world: "dev_world"
    spawn-location:
      x: 0.5
      y: 64.0
      z: 0.5
      yaw: 0.0
      pitch: 0.0

    auto-load: true
    persistent: true

# ===== CREATING DEV WORLDS =====
#
# GOOD NEWS: The plugin will automatically create missing worlds!
#
# When you load the dev partition, the plugin will:
# 1. Check if dev_world exists
# 2. If not, create it automatically
# 3. Same for dev_world_nether and dev_world_the_end
#
# The worlds will be generated with default Minecraft generation.
# No manual setup required!
#
# If you want to copy your existing world instead:
#   1. Stop server
#   2. Copy "world" folder → "dev_world"
#   3. Start server
#   The plugin will detect and load the existing world.

# ===== HOT-RELOADING PARTITIONS =====
#
# This is the KILLER FEATURE of this plugin!
#
# You can reload the dev partition WITHOUT affecting builders:
#   /partition restart dev
#
# What happens:
# 1. Players in dev partition are temporarily moved to build partition
# 2. Dev plugins are reloaded (onDisable → onEnable)
# 3. Players are moved back to their exact locations
# 4. Build partition continues running normally - ZERO interruption!
#
# This means:
# - Update plugins on dev server while builders keep building
# - Test new features without restarting entire server
# - True multi-server experience in one Minecraft instance
#
# Example workflow:
# 1. Build your plugin: ./gradlew :lobby-plugin:shadowJar
# 2. Copy new jar to plugins/ folder
# 3. Run: /partition restart dev
# 4. New plugin version loads ONLY in dev partition!
# 5. Builders in build partition never even notice!

# ===== NOTES =====
#
# 1. PLUGIN NAME MATCHING
#    - Plugin names must match what shows in /plugins command
#    - NOT the .jar filename!
#    - Example: "fastasyncvoxelsniper-3.2.3.jar" → check /plugins for actual name
#    - Current plugins (from your screenshot):
#      • CorePlugin
#      • FastAsyncWorldEdit
#      • LobbyPlugin
#      • PartitionPlugin
#
# 2. AUTOMATIC WORLD CREATION
#    - Missing worlds are created automatically on partition load
#    - No manual world setup required!
#    - Worlds are generated with default Minecraft settings
#    - To use custom worlds, create them before starting server
#
# 3. HOT-RELOADING
#    - Use /partition restart <partition> to reload a partition
#    - Other partitions continue running normally
#    - Players are safely moved during reload
#    - Perfect for testing plugin updates without full server restart
#
# 4. WORLD MANAGEMENT
#    - Worlds must exist before assigning to partitions
#    - World names are case-sensitive
#    - Each world can only belong to ONE partition
#
# 3. TELEPORTING BETWEEN PARTITIONS
#    - /partition tp build - Go to build server
#    - /partition tp dev - Go to dev server
#    - Players will teleport to the spawn location
#
# 4. VIEWING PARTITION INFO
#    - /partition list - See all partitions
#    - /partition info build - Details about build partition
#    - /partition worlds - See which world belongs to which partition
#    - /partition plugins build - See plugins in build partition
#
# 5. RESTARTING PARTITIONS
#    - /partition restart build - Reload build partition
#    - Players in that partition will be briefly moved out
#    - Useful for testing plugin changes
#
# 6. TROUBLESHOOTING
#    - If a world doesn't exist, partition won't load
#    - Check server console for errors on startup
#    - Use /partition info <partition> to verify everything loaded
#    - Plugin names must match exactly (check /plugins)

# ===== USEFUL COMMANDS =====
#
# After server starts, verify configuration:
#   /partition list          - Should show 2 partitions
#   /partition info build    - Check build partition loaded correctly
#   /partition info dev      - Check dev partition loaded correctly
#   /partition worlds        - Verify world mappings
#
# Test partition switching:
#   /partition tp build      - Go to build server
#   /partition tp dev        - Go to dev server
#
# Manage plugins:
#   /partition plugins build - List plugins in build
#   /partition plugins dev   - List plugins in dev